<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8' />
    <title>Display a map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet' />
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v3.1.2/mapbox-gl-directions.js'></script>
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v3.1.2/mapbox-gl-directions.css'
        type='text/css' />
    <div id='map'></div>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiY2pkYW5nbyIsImEiOiJjamduY21kbzQyYTNuMndvOHVrNXNjMXN0In0.VO6g4uS2KZdBVwlvR_M9ag';

        getLocation();

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }
        function showPosition(position) {

            var map = new mapboxgl.Map({
                container: 'map', // container id
                style: 'mapbox://styles/cjdango/cjgnd8aab00362rq0q7jahcjd', // stylesheet location
                center: [position.coords.longitude, position.coords.latitude], // starting position [lng, lat]
                zoom: 15 // starting zoom
            });

            var mapDirection = new MapboxDirections({
                accessToken: mapboxgl.accessToken,
                interactive: false,
                controls: {
                    inputs: false
                }
            });

            map.on('load', function () {
                mapDirection.setOrigin([position.coords.longitude, position.coords.latitude])
                mapDirection.setDestination([position.coords.longitude - .001, position.coords.latitude])

                map.addControl(mapDirection, 'top-left');
                map.addControl(new mapboxgl.GeolocateControl({
                    positionOptions: {
                        enableHighAccuracy: true
                    },
                    trackUserLocation: true
                }));
            })

        }

    </script>

</body>

</html>